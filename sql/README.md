# SQL æ–‡ä»¶å¤¹è¯´æ˜

è¿™ä¸ªæ–‡ä»¶å¤¹åŒ…å«äº† Gemini Flash Image Project çš„æ‰€æœ‰æ•°æ®åº“ç›¸å…³æ–‡ä»¶ã€‚

## ğŸ“ æ–‡ä»¶è¯´æ˜

### ğŸš€ ä¸»è¦SQLæ–‡ä»¶ï¼ˆæ¨èä½¿ç”¨ï¼‰

- **`supabase-simple.sql`** - ç®€åŒ–ç‰ˆæ•°æ®åº“ç»“æ„ï¼Œé€‚åˆå¿«é€Ÿéƒ¨ç½²
  - åŒ…å«5ä¸ªä¸»è¦è¡¨
  - å¯ç”¨è¡Œçº§å®‰å…¨ç­–ç•¥(RLS)
  - åˆ›å»ºå¿…è¦çš„ç´¢å¼•
  - é€‚åˆå¤§å¤šæ•°ä½¿ç”¨åœºæ™¯

- **`supabase-schema.sql`** - å®Œæ•´ç‰ˆæ•°æ®åº“ç»“æ„
  - åŒ…å«æ‰€æœ‰è¡¨å’Œå‡½æ•°
  - åŒ…å«å¤æ‚çš„PostgreSQLå‡½æ•°
  - åŒ…å«è§¦å‘å™¨å’Œé«˜çº§åŠŸèƒ½
  - é€‚åˆéœ€è¦å®Œæ•´åŠŸèƒ½çš„åœºæ™¯

### ğŸ“š å…¶ä»–æ–‡ä»¶

- **`database-schema.sql`** - åŸå§‹æ•°æ®åº“ç»“æ„æ–‡ä»¶
- **`SUPABASE_SETUP.md`** - è¯¦ç»†çš„Supabaseè®¾ç½®æŒ‡å—
- **`README.md`** - æœ¬è¯´æ˜æ–‡ä»¶

## ğŸ¯ ä½¿ç”¨å»ºè®®

### é¦–æ¬¡éƒ¨ç½²
1. ä½¿ç”¨ `supabase-simple.sql` åˆ›å»ºåŸºç¡€æ•°æ®åº“ç»“æ„
2. æŒ‰ç…§ `SUPABASE_SETUP.md` çš„è¯´æ˜è¿›è¡Œé…ç½®

### éœ€è¦é«˜çº§åŠŸèƒ½
1. ä½¿ç”¨ `supabase-schema.sql` åˆ›å»ºå®Œæ•´åŠŸèƒ½
2. åŒ…å«ç§¯åˆ†ç®¡ç†å‡½æ•°å’Œè§¦å‘å™¨

## ğŸ”§ æ‰§è¡Œæ­¥éª¤

1. ç™»å½• [Supabase Dashboard](https://supabase.com/dashboard)
2. é€‰æ‹©ä½ çš„é¡¹ç›®
3. è¿›å…¥ "SQL Editor"
4. å¤åˆ¶å¯¹åº”çš„SQLæ–‡ä»¶å†…å®¹
5. ç²˜è´´å¹¶æ‰§è¡Œ

## ğŸ“‹ è¡¨ç»“æ„æ¦‚è§ˆ

æ‰§è¡ŒSQLåï¼Œå°†åˆ›å»ºä»¥ä¸‹è¡¨ï¼š

- `gemini_flash_stripe_payment_intents` - Stripeæ”¯ä»˜æ„å›¾
- `gemini_flash_user_credits` - ç”¨æˆ·ç§¯åˆ†ä½™é¢
- `gemini_flash_credit_transactions` - ç§¯åˆ†äº¤æ˜“è®°å½•
- `gemini_flash_image_processing_logs` - å›¾ç‰‡å¤„ç†æ—¥å¿—
- `gemini_flash_purchase_history` - è´­ä¹°å†å²è®°å½•

## âš ï¸ æ³¨æ„äº‹é¡¹

- ç¡®ä¿åœ¨æ­£ç¡®çš„Supabaseé¡¹ç›®ä¸­æ‰§è¡Œ
- å¤‡ä»½ç°æœ‰æ•°æ®ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰
- æ£€æŸ¥RLSç­–ç•¥æ˜¯å¦æ­£ç¡®åº”ç”¨
- éªŒè¯è¡¨åˆ›å»ºå’Œç´¢å¼•æ˜¯å¦æˆåŠŸ

---

**æ¨èä½¿ç”¨ `supabase-simple.sql` å¼€å§‹ä½ çš„é¡¹ç›®ï¼** ğŸš€
